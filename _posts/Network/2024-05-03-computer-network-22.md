---
bigtitle: "제4장 네트워크 계층: 데이터 평면"
title: "4.1 네트워크 계층 개요"
excerpt: "4.1 네트워크 계층 개요"
categories: ['Computer Network']
tags:
  - computer
  - network

toc: true
toc_sticky: true
use_math: true
 
date: 2024-05-03
last_modified_at: 2024-05-03
---
![image](https://github.com/Bogamie/bogamie.github.io/assets/162293185/c2bb9065-0eff-401d-8ce1-1c7909843cd2){: height="80%" width="80%"}

&nbsp;&nbsp;그림 4.1은 H1과 H2의 경로상에 여러 라우터와 두 호스트 H1과 H2로 이루어진 네트워크를 보여준다. H1 네트워크 계층은 H1의 트랜스포트에게 세그먼트를 얻어 데이터그램으로 캡슐화하고 가장 인접한 라우터 R1으로 보낸다. 각 라우터에서의 네트워크 계층은 데이터그램을 입력 링크에서 출력 링크로 전달하는 역할을 한다.


- `데이터 평면 역할` : 입력 링크에서 출력링크로 데이터그램 전달
- `제어 평면 역할` : 데이터 그램이 출발지 호스트에서 목적지 호스트까지 잘 전달되게끔 로컬 포워딩, 라우터별 포워딩을 대응시킴
<br>
<br>

## 1. 포워딩과 라우팅: 데이터 평면과 제어 평면

&nbsp;&nbsp;네트워크 계층은 송신 호스트에서 수신 호스트로 패킷을 전달하는 단순한 역할을 담당한다.

### 라우터

![image](https://github.com/Bogamie/bogamie.github.io/assets/162293185/d6fa48fe-ccc3-40c5-b1b6-c2a23f84238b){: height="80%" width="80%"}

&nbsp;&nbsp;라우터는 IP 패킷으로 싸여진 정보만 인식하여 객체를 포워딩한다. 또한 트랜스포트 계층과 애플리케이션 계층을 지원하지 않으므로 프로토콜 스택에서 네트워크 계층의 상위 계층은 존재하지 않는다. 라우터는 포워딩과 라우팅이라는 주요한 기능을 제공한다.

#### 포워딩(전달)
> 패킷이 라우터의 입력 링크로 들어왔을 때 적절한 출력 링크로 내보내는 작업을 말한다. 
> 
> 입력 인터페이스로 들어온 패킷의 헤더의 필드값을 조사하여 목적지 주소를 알아낸다. 라우터 내부의 **`포워딩 테이블`**을 참조하여 목적지 주소에 해당하는 엔트리를 찾아낸다. 그 후 그 엔트리로 출력 인터페이스로 내보낸다. 이 작업은 매우 빠르게 실행되어야 하므로 하드웨어서 실행된다.

#### 라우팅
> 패킷을 목적지까지 전달하기 위한 최적의 경로를 결정하는 작업을 말한다.
> 이러한 작업의 결과물이 `포워딩 테이블`이고 라우팅을 할 때 경로를 계산하는 알고리즘을 **`라우팅 알고리즘(routing algorithm)`**이라고 한다.

<br>
<br>

### 제어 평면: 전통적인 접근 방법

&nbsp;&nbsp;라우팅 알고리즘은 라우터의 포워딩 테이블의 내용을 결정한다. 라우팅 알고리즘은 모든 라우터에서 실행되며, 라우터는 포워딩과 라우팅 기능을 모두 갖고 있어야 한다.

&nbsp;&nbsp;라우팅 프로토콜을 통해 라우팅 정보에 포함된 라우팅 메시지를 교환하며 다른 라우터의 라우팅 알고리즘과 소통한다. 이를 통해 포워딩 테이블의 값을 계산한다.

<br>
<br>

### 제어 평면: SDN 접근 방법

![image](https://github.com/Bogamie/bogamie.github.io/assets/162293185/a597b582-4eb8-4819-b8c2-2055045ab92a){: height="80%" width="80%"}

- `원격 컨트롤러` : 라우터의 라우팅을 대신한다. 포워딩 테이블을 계산하고 라우터들에게 분배한다.

&nbsp;&nbsp;그림 4.3의 제어 평면적 접근 방법은 네트워크가 **소프트웨어적으로 정의되었을 때** 원격 컨트롤러는 라우터와 상호작용하며 소프트웨어에서 실행되므로 `SDN(software defined networking)`의 중심이라 할 수 있다.

&nbsp;&nbsp;원격 제어가 포워딩 테이블을 계산 및 배분하는 동안 라우팅 기기는 포워딩만을 수행한다. 라우터와 원격 컨트롤러는 포워딩 테이블, 라우팅 정보를 포함한 메시지를 교환하며 소통한다. 

&nbsp;&nbsp;원격 컨트롤러는 원격 데이터 센터에 설치하며, ISP 혹은 다른 제3자에 의해 관리될 수 있다.

<br>
<br>

## 2. 네트워크 서비스 모델

- `네트워크 서비스 모델` : 송수신 호스트 간 패킷 전송 특성을 정의

### 네트워크 계층에서 제공할 수 있는 서비스

- **보장된 전달**
  - 패킷이 출발지 호스트에서부터 목적지 호스트까지 도착하는 것을 보장한다.
- **지연 제한 이내의 보장된 전달**
  - 패킷의 전달을 보장하며 호스트 간의 특정 지연 제한 안에 전달한다.
- **순서화 패킷 전달**
  - 패킷이 목적지에 송신된 순서대로 도착하는 것을 보장한다.
- **최소 대역폭 보장**
  - 특정 호스트 사이의 통신 링크를 가상으로 만들어서 해당 링크가 특정한 대역폭으로 동작하도록 모방한다. 송신 호스트가 패킷의 구성물을 특정한 비트율 이하로 전송하는 한, 모든 패킷이 목적지 호스트까지 전달된다.
- **보안 서비스**
  - 네트워크 계층은 모든 데이터그램을 출발지 호스트에서는 암호화, 목적지 호스트에서는 해독을 할 수 있게 하여 트랜스포트 계층의 모든 세그먼트에 대해 기밀성을 유지한다.

&nbsp;&nbsp;네트워크 계층이 제공할 수 있는 서비스의 일부를 설명하였다. 이외에도 수많은 변형이 있다.

#### 최선형 서비스(best-effort-service)

&nbsp;&nbsp;인터넷 네트워크 계층은 최선형 서비스를 제공한다.