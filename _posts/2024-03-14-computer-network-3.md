---
bigtitle: "제1장 컴퓨터 네트워크와 인터넷"
title: "1.3 네트워크 코어"
excerpt: "컴퓨터 네트워크 1.3장 - 인터넷의 종단 시스템을 연결하는 네트워크 코어에 대해 알아보자."
categories: ['Computer Network']
tags:
  - computer
  - network

toc: true
toc_sticky: true
use_math: true

date: 2024-03-14
last_modified_at: 2024-03-14
---

&nbsp;&nbsp;&nbsp;&nbsp;링크와 스위치의 네트워크를 통해 데이터를 이동시키는 방식에는 **패킷 교환**(packet switching)과 **회선 교환**(circuit switching)이 있다. 이번 시간에는 이 두가지의 방식에 대해 알아보자.

## 1. 패킷 교환

* 네트워크 애플리케이션에서 종단 시스템들은 서로 **메시지**(message)를 교환한다. 이 메시지는 여러 종류의 데이터를 포함하는데 송신 시스템은 긴 메시지를 작은 데이터 덩어리로 분할한다. 이를 **패킷**(packet)이라 한다.
* 패킷은 **통신 링크**와 **패킷 스위치**를 통해 이동한다.

### 저장-후-전달 전송

* 패킷 스위치는 **저장-후-전달 전송**(store-and-forward transmission) 방식을 사용한다.
* 패킷 스위치가 패킷의 첫 비트를 출력 링크로 전송하기 전에 전체 패킷을 받아야 하는 전송 방식이다.
* 출발지부터 목적지 노드까지 *L*비트의 패킷을 전송률이 *R*인  *N*개의 링크를 통해 송신하는 경우 **종단 간 지연 시간**은 다음과 같다.
$$d_{종단\ 간\ 지연} = N\frac{L}{R}$$

### 큐잉 지연과 패킷 손실

* 패킷 스위치는 여러 개의 링크를 가지고 있다. 각 링크에 대해 **출력 버퍼**(output buffer) / **출력 큐**(output queue)와 그 링크로 **송신할 패킷**을 저장하고 있다.
  
  #### a. 큐잉 지연(queuing delay)
    * 패킷 스위치의 한 링크가 패킷을 전송하고 있을 때 다른 패킷이 도착한다면 이 패킷은 **출력 버퍼**(출력 큐)에서 대기해야 한다.
  
  #### b. 패킷 손실(packet loss)
    * 버퍼의 크기는 **한정적**이다.
    * 출력 버퍼(출력 큐)에 대기 중인 패킷들로 가득 차 있을 경우 **패킷 손실**이 발생한다.
    * 이 때 도착하는 패킷이나 큐에서 대기 중인 패킷을 폐기한다.

### 포워딩 테이블과 라우팅 프로토콜

* 인터넷에서 모든 종단 시스템은 **IP 주소**를 갖고 있으며,
  출발지는 패킷의 헤더에 목적지의 **IP 주소**를 포함시킨다.

  #### a. 포워딩 테이블(forwarding table)
    * 라우터가 네트워크 패킷을 처리하는 데 사용한다.
    * 라우터는 목적지 주소를 라우터의 출력 링크로 **매핑**(목적지 IP 주소를 해당 IP 주소에 대한 출력 링크로 대응시킴)한다.
    * 패킷이 라우터에 도착하면 라우터는 패킷의 출력 링크를 찾기 위해 헤더의 주소를 조사하고 이 목적지 주소를 이용하여 포워딩 테이블을 검색한다. 그 후 라우터는 그 패킷을 해당 출력 링크로 보낸다.
  
  #### b. 라우팅 프로토콜(routing protocol)
    * 인터넷은 자동으로 포워딩 테이블을 설정하기 위해 여러 가지의 라우팅 프로토콜을 이용한다.
    * ex) 각 라우터로부터 목적지까지의 최단 경로를 설정한다. 
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;라우터에 포워딩 테이블을 설정할 때 이 최단 경로 결과를 이용한다.

## 2. 회선 교환

  * 패킷을 전송하기 전 필요한 자원(버퍼, 링크 전송률)은 통신 세션(session: 시간, 기간)동안에 확보 또는 예약한다.
  * 세션 메시지는 온디맨드(on-demand) 방식으로 자원을 요청하여 사용한다.
  * 미리 필요한 회선을 예약하므로 **보장된 일정한 전송률**로 데이터를 보낼 수 있다.
  * 네트워크는 두 호스트가 통신하고 싶을 때 두 호스트 사이에 지정된 **종단 간 연결**(end-to-end connection)을 설정한다.
  * Call이 없을 경우 회선은 사용하지 않으므로 자원의 낭비가 발생한다.
  * 전통적인 전화망에 사용된다.
<br>
    * **세션**(session)
    &nbsp;&nbsp;반영구적이고 상호작용적인 정보 교환을 전제하는 둘 이상의 통신 장치나 컴퓨터와 사용자 간의 대화나 송수신 연결상태를 의미하는 보안적인 다이얼로그(dialogue) 및 시간대를 가리킨다. 또한 연결상태를 유지하는 것보다 연결상태의 안정성을 더 중요시 하게 된다. 따라서 **세션 메시지**는 컴퓨터 네트워크에서의 세션을 관리하고 제어하기 위해 사용되는 메시지를 나타낸다.
    * **온디맨드**(on-demand) 방식
    &nbsp;&nbsp;사용자의 요구가 있을 때 그 요구에 따라 서비스를 제공하는 것을 말한다. 사용자나 시스템이 필요한 경우에만 요청하는 방식을 의미한다.

### 회선 교환 네트워크에서의 다중화

&nbsp;&nbsp;링크 내 한 회선은 **주파수 분할 다중화**(frequency-division multiplexing, **FDM**) 또는 **시분할 다중화**(time-division multiplexing, **TDM**)로 구현된다.

  #### a. FDM
  * 주파수 대역을 분할하여 각 신호에 고유한 주파수를 할당한다. 이를 통해 한 링크 또는 통신 채널에 여러 개의 신호가 동시 전송 될 수 있도록 한다.
  
  #### b. TDM
  * 시간을 일정 주기의 프레임으로 나누고, 각 슬롯에 다른 신호를 할당하여 전송한다. 이를 통해 각 신호가 번갈아가며 통신 매체를 사용하게 되어 여러 신호를 동시에 전송할 수 있다.

## 3. 패킷 교환 VS 회선 교환

* 패킷 교환 > 회선 교환
* 10명 이상의 동시 사용자가 있을 확률은 매우 작으므로 **패킷 교환**은 거의 항상 회선 교환과 대등한 지연 성능을 가지면서도 **거의 3배 이상의 사용자 수를 허용**한다.
* 많은 경우에 패킷 교환이 유리하지만 다음과 같은 장점과 단점이 있다.
* **장점**
  * **버스티** **데이터에 적합하다**. 
    * 데이터가 불규칙하게 발생할 때 효율적으로 처리할 수 있다. (bursty: 데이터가 갑자기 집중적으로 한번씩 소규모로 발송됨)
  * **동시에 많은 자원 공유**
  * **단순하며 콜 설정 불필요**
* **단점**
  * **지나친 혼잡 가능성**
    * 많은 패킷이 동시에 네트워크에 전송되어 혼잡을 유발할 수 있다. 이로 인해 패킷의 지연 및 손실이 발생할 수 있다.
  * **신뢰성 있는 전송 및 혼잡 제어를 위한 프로토콜 필요**
    * 패킷 교환에서는 신뢰성 있는 전송과 혼잡 제어를 위한 별도의 프로토콜이 필요하다.

## 4. 네트워크의 네트워크
![image](https://miro.medium.com/v2/resize:fit:1400/1*BTK7D5FHgvZpA7et9GHolQ.png)
* **접속 ISP**
* **지역 ISP**
  * 한 나라의 모든 도시에 있는 접속 ISP를 연결하는 데 한계가 있을 때 지역마다 인터넷 접속을 제공한다.
* **IXP**(Internet Exchange Point)
  * ISP간의 인터넷 트래픽을 원활하게 소통시키기 위한 인터넷 연동 서비스이다.
* **1계층 ISP**
  * 글로벌 ISP
* **콘텐츠 제공자**
  * 구글, 인스타그램, 유튜브 등